<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Cascade failure analysis (CFA) involves understanding how failures in one
part of the network might cascade to other parts. Networks capable of
isolating such failures or minimizing their effects demonstrate higher
robustness."><title>Perform cascade failure analysis — cfa • FinNet</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform cascade failure analysis — cfa"><meta property="og:description" content="Cascade failure analysis (CFA) involves understanding how failures in one
part of the network might cascade to other parts. Networks capable of
isolating such failures or minimizing their effects demonstrate higher
robustness."><meta property="og:image" content="https://fatelarico.github.io/FinNet.html/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FinNet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/analysis_examples.html">Example analyses</a>
    <a class="dropdown-item" href="../articles/workflow-igraph_financial.html">Example workflow (`igraph` edition)</a>
    <a class="dropdown-item" href="../articles/workflow-network_financial.html">Example workflow (`network`/`sna` edition)</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/FATelarico/FinNet/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Perform cascade failure analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/FATelarico/FinNet/blob/HEAD/R/06.3.cfa.R" class="external-link"><code>R/06.3.cfa.R</code></a></small>
      <div class="d-none name"><code>cfa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Cascade failure analysis (CFA) involves understanding how failures in one
part of the network might cascade to other parts. Networks capable of
isolating such failures or minimizing their effects demonstrate higher
robustness.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cfa</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  ordering <span class="op">=</span> <span class="st">"tot"</span>,</span>
<span>  custom.order <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  decreasing <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Rcpp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"Rcpp"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, yes <span class="op">=</span> <span class="cn">TRUE</span>, no <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>Firm-Firm network in one of the following classes:</p><ul><li><p><code>financial_matrix</code> produced by <code>FF</code> and family;</p></li>
<li><p><code>network_financial</code> or <code>network</code> if the relevant package is installed;</p></li>
<li><p><code>igraph_financial</code> or <code>igraph</code> if the  relevant package is installed.</p></li>
</ul></dd>


<dt>ordering</dt>
<dd><p>In what order to remove the firms, the completing ordering is always returned as part of the result. Take the following values:</p><ul><li><p><code>random</code> - Random order, corresponds to percolation theory</p></li>
<li><p><code>out</code> - By out-degree</p></li>
<li><p><code>in</code> - By in-degree</p></li>
<li><p><code>tot</code> - By sum of in- and out-degre (default)</p></li>
<li><p><code>custom</code> - Customised ordering via <code>custom.order</code></p></li>
</ul></dd>


<dt>custom.order</dt>
<dd><p>Order in which to remove the firms. If <code>ordering</code> is not 'custom', it is ignored. Defaults to <code>NULL</code>.</p></dd>


<dt>decreasing</dt>
<dd><p>Logical, defaults to <code>TRUE</code>. Only evaluated if <code>ordering</code> is neither 'custom' nor 'random'.</p><ul><li><p>if <code>TRUE</code> - the ordering is by decreasing degree and higher in-/out-/total-degree firms are removed first</p></li>
<li><p>if <code>FALSE</code> - the ordering is by increasing degree and higher in-/out-/total-degree firms are removed last</p></li>
</ul></dd>


<dt>Rcpp</dt>
<dd><p>Whether to use the <code>C++</code> or native-<code>R</code> version of the search algorithm. Defaults to <code>TRUE</code> if the package <code>Rcpp</code> is installed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.frame</code> with one row for the result of the CFA after each node is removed. The columns report:</p><ul><li><p><code>l_scc</code> - Size of the largest strongly connected component</p></li>
<li><p><code>rem_id</code> - ID of the firm removed</p></li>
<li><p><code>rem_pos</code> - Position of the firm removed (row/column number)</p></li>
<li><p><code>n_scc</code> - Number of strongly connected components</p></li>
<li><p><code>n_rem</code> - Number of firms removed</p></li>
<li><p><code>n_left</code> - Number of firms left</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Elliott, Matthew, Benjamin Golub, and Matthew O. Jackson. ‘Financial Networks and Contagion’. American Economic Review 104, no. 10 (1 October 2014): 3115–53. <a href="https://doi.org/10.1257/aer.104.10.3115" class="external-link">doi:10.1257/aer.104.10.3115</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Telarico, Fabio Ashtar</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a matrix</span></span></span>
<span class="r-in"><span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>   <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,ncol <span class="op">=</span> <span class="fl">8</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add rownames</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Firm"</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a FF matrix</span></span></span>
<span class="r-in"><span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu">methods</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/methods/new.html" class="external-link">new</a></span><span class="op">(</span><span class="st">'financial_matrix'</span>,</span></span>
<span class="r-in"><span>                    M <span class="op">=</span> <span class="va">mat</span>,</span></span>
<span class="r-in"><span>                    relation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'own'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    legal_form <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'JSC'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    sector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'A.01'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    revenues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    capitalisation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    currency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'USD'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Notice the differnce between:</span></span></span>
<span class="r-in"><span><span class="co"># a. CFA with ordering by in-degree (decreasing)</span></span></span>
<span class="r-in"><span><span class="co"># b. CFA with ordering by in-degree (increasing)</span></span></span>
<span class="r-in"><span><span class="fu">cfa</span><span class="op">(</span><span class="va">mat</span>, ordering <span class="op">=</span> <span class="st">'in'</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   l_scc rem_id rem_pos n_scc n_rem n_left</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     7             NA     2     0      8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2  FirmA       1     6     1      7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     2  FirmH       8     5     2      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     2  FirmB       2     4     3      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     3  FirmD       4     2     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     1  FirmE       5     3     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     1  FirmG       7     2     6      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     1  FirmC       3     1     7      1</span>
<span class="r-in"><span><span class="co"># But ordering by increasing (decreasing) in-degree is the</span></span></span>
<span class="r-in"><span><span class="co"># same as ordering by decreasing (increasing) out-degree and</span></span></span>
<span class="r-in"><span><span class="co"># vice versa!</span></span></span>
<span class="r-in"><span><span class="fu">cfa</span><span class="op">(</span><span class="va">mat</span>, ordering <span class="op">=</span> <span class="st">'out'</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># By out-degree (increasing)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   l_scc rem_id rem_pos n_scc n_rem n_left</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     7             NA     2     0      8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     6  FirmB       2     2     1      7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     2  FirmC       3     5     2      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     3  FirmG       7     3     3      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     1  FirmE       5     4     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     1  FirmF       6     3     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     1  FirmA       1     2     6      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     1  FirmD       4     1     7      1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>NULL</p>
</div>

<div class="pkgdown-footer-right">
  <p>Fabio Ashtar Telarico (2023) Provided without <strong>any warranty</strong>.</p>
</div>

    </footer></div>

  

  

  </body></html>

